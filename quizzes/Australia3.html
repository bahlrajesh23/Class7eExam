<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Coastal Plains Questionnaire</title>
    <style>
        /* General body styling */
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f0f4f8;
        }

        /* Container for the quiz elements */
        .quiz-container {
            background: #ffffff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        /* Link back style */
        .navigation-link {
            display: block;
            margin-bottom: 20px;
            text-align: center;
            color: #1a73e8;
            text-decoration: none;
            font-weight: bold;
        }

        .navigation-link:hover {
            text-decoration: underline;
        }

        /* Styling for each question block */
        .question {
            margin-bottom: 25px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 5px;
            border-left: 5px solid #1e88e5;
        }

        /* Question text styling */
        .question p {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        /* Styling for radio button options */
        .options label {
            display: block;
            margin: 10px 0 10px 5px;
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
        }

        .options label:hover {
            background-color: #e3f2fd;
        }

        /* Spacing for radio button itself */
        .options input[type="radio"] {
            margin-right: 8px;
        }

        /* Styling for text area */
        textarea{
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-top: 5px;
            resize: none;
            font-family: Arial, sans-serif;
        }

        /* Submit button styling */
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
            display: block;
            margin-left: auto;
            margin-right: auto;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background: #45a049;
        }

        /* Error message styling */
        #error {
            color: #d32f2f;
            padding: 12px;
            background: #ffebee;
            border-left: 4px solid #d32f2f;
            margin: 15px 0;
            border-radius: 4px;
            display: none;
        }

        /* Result display styling */
        #result {
            font-weight: bold;
            font-size: 1.2em;
            margin: 20px 0;
            padding: 15px;
            background: #e8f5e9;
            border-left: 4px solid #2e7d32;
            border-radius: 4px;
            text-align: center;
        }

        /* Container for all feedback items */
        #feedback {
            margin-top: 20px;
        }

        #feedback h3 {
            margin-bottom: 15px;
            color: #c62828;
        }

        /* Styling for individual feedback items (wrong answers) */
        .feedback-item {
            margin: 15px 0;
            padding: 15px;
            background: #fff3e0;
            border-left: 4px solid #ef6c00;
            border-radius: 4px;
        }

        /* Styling for the correct answer text within feedback */
        .correct-answer {
            color: #2e7d32;
            font-weight: bold;
            margin-top: 8px;
        }
        /* Style for map section */
        #map-section {
            border: 1px solid #ccc;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
        }

        #map-section h4 {
            font-size: 1.1em;
            margin-bottom: 10px;
            color: #333;
        }

        #map-placeholder {
            width: 100%;
            height: 300px;
            background-color: #f0f0f0;
            margin-bottom: 15px;
            border: 2px dashed #aaa;
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #888;
            font-size: 1.2em;
            text-align: center;
        }
    </style>
</head>
<body>
    <a href="../index.html" class="navigation-link">⬅️ Back to Quiz List</a>
    <div class="quiz-container">
        <h1>Coastal Plains Questionnaire</h1>
        <form id="coastalPlainsQuizForm">
            <div id="error"></div>
            <div id="result"></div>
            <div id="feedback"></div>
            <section>
                <h2>Section 1: Multiple Choice Questions</h2>
                <div class="question">
                    <p>1. What is the geographical feature known as the Coastal Plains in Australia?</p>
                    <div class="options">
                        <label><input type="radio" name="q1" value="0"> A) A mountain range along the eastern coast</label>
                        <label><input type="radio" name="q1" value="1"> B) A narrow strip of flat land along the eastern coast</label>
                        <label><input type="radio" name="q1" value="0"> C) A desert region in the center of Australia</label>
                        <label><input type="radio" name="q1" value="0"> D) An island off the coast of Australia</label>
                    </div>
                </div>
                <div class="question">
                    <p>2. Which of the following cities are located along the Coastal Plains in Australia? (Select all that apply)</p>
                    <div class="options">
                        <label><input type="radio" name="q2" value="1"> A) Brisbane</label>
                        <label><input type="radio" name="q2" value="1"> B) Sydney</label>
                        <label><input type="radio" name="q2" value="1"> C) Melbourne</label>
                        <label><input type="radio" name="q2" value="0"> D) All of the above</label>
                    </div>
                </div>
                <div class="question">
                    <p>3. What is a characteristic of the Coastal Plains region in Australia?</p>
                    <div class="options">
                        <label><input type="radio" name="q3" value="0"> A) It is a sparsely populated area</label>
                        <label><input type="radio" name="q3" value="0"> B) It receives very little rainfall</label>
                        <label><input type="radio" name="q3" value="1"> C) It is a comparatively narrow and flat coastal region</label>
                        <label><input type="radio" name="q3" value="0"> D) It is known for its rugged terrain</label>
                    </div>
                </div>
            </section>
            <section>
                <h2>Section 2: Short Answer Questions</h2>
                <div class="question">
                    <p>1. Describe the location and extent of the Coastal Plains in Australia.</p>
                    <textarea name="short1" rows="4" cols="60"></textarea>
                </div>
                <div class="question">
                    <p>2. What are some of the main cities located along the Coastal Plains, and why are they significant?</p>
                    <textarea name="short2" rows="4" cols="60"></textarea>
                </div>
                <div class="question">
                    <p>3. Explain why the Coastal Plains is considered the most densely populated region of Australia.</p>
                    <textarea name="short3" rows="4" cols="60"></textarea>
                </div>
            </section>
            <section>
                <h2>Section 3: Essay Question</h2>
                <div class="question">
                    <p>Discuss the geographical features and significance of the Coastal Plains in Australia. Be sure to include information about its location, climate, population density, and major cities.</p>
                    <textarea name="essay" rows="6" cols="60"></textarea>
                </div>
            </section>
            <section id="map-section">
                <h4>Section 4: Map-Based Questions</h4>
                <div id="map-placeholder">
                    [Map of Australia's Eastern Coastal Plains Here -  Imagine a map here]
                </div>
                <div class="question">
                    <p>1. Using the map provided, identify the states/territories that are part of the Coastal Plains region.</p>
                    <textarea name="map1" rows="2" cols="60"></textarea>
                </div>
                <div class="question">
                    <p>2. Label the major cities marked on the map (Queensland and Victoria).</p>
                    <textarea name="map2" rows="2" cols="60"></textarea>
                </div>
            </section>
            <button type="button" onclick="submitCoastalPlainsQuiz()">Submit Quiz</button>
        </form>
    </div>
    <script>
        // --- Coastal Plains Quiz Data and Functions ---
        const coastalPlainsCorrectAnswers = {
            q1: "B) A narrow strip of flat land along the eastern coast",
            q2: "D) All of the above",
            q3: "C) It is a comparatively narrow and flat coastal region",
            short1: "The Coastal Plains is a narrow strip of flat land that stretches along the eastern coast of Australia from Queensland to Victoria.",
            short2: "Major cities like Brisbane, Sydney, and Melbourne are located along the Coastal Plains. They are significant because they are among Australia's main cities and are hubs for economic, cultural, and political activities.",
            short3: "The Coastal Plains is the most densely populated region of Australia because it is a comparatively narrow and flat coastal region between the Eastern Highlands and the coast, making it suitable for urban development and habitation.",
            essay: "The Coastal Plains in Australia is a significant geographical feature that runs along the eastern coast from Queensland to Victoria. This region is characterized by its narrow strip of flat land, which is nestled between the Eastern Highlands and the Pacific Ocean. The Coastal Plains receive relatively high rainfall, making it a fertile and habitable area. As a result, it is home to most of Australia's main cities, including Brisbane, Sydney, and Melbourne. These cities are not only major population centers but also serve as economic, cultural, and political hubs. The combination of favorable geography and climate has made the Coastal Plains the most densely populated region in Australia. The region's flat terrain and access to the ocean have facilitated urban development, trade, and commerce, contributing to its significance in the country's overall development. Overall, the Coastal Plains play a crucial role in Australia's geography, economy, and society.",
            map1: "Queensland, New South Wales, Victoria", // Add correct state/territory names
            map2: "Brisbane, Melbourne" //Add city names
        };

        const coastalPlainsTotalQuestions = 8; // Total number of questions, including short answer and essay.

        function submitCoastalPlainsQuiz() {
            const form = document.getElementById('coastalPlainsQuizForm');
            const errorDiv = document.getElementById('error');
            const resultDiv = document.getElementById('result');
            const feedbackDiv = document.getElementById('feedback');

            errorDiv.style.display = 'none';
            errorDiv.innerHTML = '';
            resultDiv.innerHTML = '';
            feedbackDiv.innerHTML = '';

            let unanswered = [];
            for (let i = 1; i <= 3; i++) { //check only the multiple choice questions
                if (!document.querySelector(`input[name="q${i}"]:checked`)) {
                    unanswered.push(i);
                }
            }
           let score = 0;
           let wrongAnswersFeedback = [];
            //check multiple choice
            for (let i = 1; i <= 3; i++) {
                const questionName = `q${i}`;
                const selectedOption = document.querySelector(`input[name="${questionName}"]:checked`);
                if (selectedOption && selectedOption.value === "1") {
                    score++;
                } else if (selectedOption) {
                    const questionDiv = selectedOption.closest('.question');
                    const questionTextElement = questionDiv ? questionDiv.querySelector('p') : null;
                    const questionText = questionTextElement ? questionTextElement.textContent : `Question ${i} text not found`;
                    wrongAnswersFeedback.push({
                        number: i,
                        text: questionText.trim(),
                        correct: coastalPlainsCorrectAnswers[questionName] || "Correct answer not defined"
                    });
                }
                else{
                     const questionDiv = document.querySelector(`[name="${questionName}"]`).closest('.question');
                     const questionTextElement = questionDiv ? questionDiv.querySelector('p') : null;
                     const questionText = questionTextElement ?  questionTextElement.textContent  : `Question ${i} text not found`;
                      wrongAnswersFeedback.push({
                        number: i,
                        text: questionText.trim(),
                        correct: coastalPlainsCorrectAnswers[questionName] || "Correct answer not defined"
                    });
                }
            }

            //check short answers
            for(let i=1; i<=3; i++){
                const shortAnswerName = `short${i}`;
                const userAnswer = form.elements[shortAnswerName].value.trim();
                const correctAnswer = coastalPlainsCorrectAnswers[shortAnswerName];
                let shortAnswerFeedback = "";
                if(userAnswer.toLowerCase() == correctAnswer.toLowerCase()){ //use toLowerCase()
                    score++;
                    shortAnswerFeedback = "Correct";
                }
                else if (isPartiallyCorrect(userAnswer, correctAnswer)) {
                    score += 0.5;
                    shortAnswerFeedback = "Partially Correct";
                }
                else{
                    shortAnswerFeedback = "Incorrect";
                     const questionDiv = document.querySelector(`[name="${shortAnswerName}"]`).closest('.question');
                     const questionTextElement = questionDiv ? questionDiv.querySelector('p') : null;
                     const questionText = questionTextElement ?  questionTextElement.textContent  : `Question ${i} text not found`;
                      wrongAnswersFeedback.push({
                        number: i+3, //offset the question number
                        text: questionText.trim(),
                        correct: coastalPlainsCorrectAnswers[shortAnswerName] || "Correct answer not defined",
                        feedback: shortAnswerFeedback
                    });
                }
            }
            //check essay question.
            const essayAnswer = form.elements['essay'].value.trim();
            const essayCorrectAnswer = coastalPlainsCorrectAnswers['essay'];
            let essayFeedback = "";
            if(essayAnswer.toLowerCase() == essayCorrectAnswer.toLowerCase()){
                score++;
                essayFeedback = "Correct";
            }
            else if (isPartiallyCorrect(essayAnswer, essayCorrectAnswer)) {
                score += 0.5;
                essayFeedback = "Partially Correct";
            }
            else{
                essayFeedback = "Incorrect";
                const questionDiv = document.querySelector(`[name="essay"]`).closest('.question');
                const questionTextElement = questionDiv ? questionDiv.querySelector('p') : null;
                const questionText = questionTextElement ?  questionTextElement.textContent  : `Question 7 text not found`;
                 wrongAnswersFeedback.push({
                    number: 7,
                    text: questionText.trim(),
                    correct: coastalPlainsCorrectAnswers['essay'] || "Correct answer not defined",
                    feedback: essayFeedback
                });
            }

            //check map questions.
             for(let i=1; i<=2; i++){
                const mapAnswerName = `map${i}`;
                const userAnswer = form.elements[mapAnswerName].value.trim();
                const correctAnswer = coastalPlainsCorrectAnswers[mapAnswerName];
                 let mapFeedback = "";
                if(userAnswer.toLowerCase() == correctAnswer.toLowerCase()){
                    score++;
                    mapFeedback = "Correct";
                }
                else if (isPartiallyCorrect(userAnswer, correctAnswer)) {
                    score += 0.5;
                    mapFeedback = "Partially Correct";
                }
                else{
                    mapFeedback = "Incorrect";
                     const questionDiv = document.querySelector(`[name="${mapAnswerName}"]`).closest('.question');
                     const questionTextElement = questionDiv ? questionDiv.querySelector('p') : null;
                     const questionText = questionTextElement ?  questionTextElement.textContent  : `Question ${i} text not found`;
                     wrongAnswersFeedback.push({
                        number: i+7, //offset the question number
                        text: questionText.trim(),
                        correct: coastalPlainsCorrectAnswers[mapAnswerName] || "Correct answer not defined",
                        feedback: mapFeedback
                    });
                }
            }

            if (unanswered.length > 0) {
                errorDiv.innerHTML = `⚠️ Please answer all  questions. Missing answers for questions: ${unanswered.join(', ')}`;
                errorDiv.style.display = 'block';
                errorDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }



            resultDiv.innerHTML = `Your Score: <span style="color:${score >= 8 ? '#2e7d32' : '#d32f2f'}">${score} / ${coastalPlainsTotalQuestions}</span>`;
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });

            if (wrongAnswersFeedback.length > 0) {
                feedbackDiv.innerHTML = '<h3>Review Incorrect Answers:</h3>';
                wrongAnswersFeedback.forEach(item => {
                    let questionType = "Question";
                    if(item.number > 3 && item.number <=6){
                        questionType = "Short Answer Question";
                    }
                    else if(item.number == 7){
                        questionType = "Essay Question";
                    }
                    else if (item.number > 7){
                         questionType = "Map Based Question";
                    }


                    feedbackDiv.innerHTML += `
                        <div class="feedback-item">
                            <p><strong>${questionType} ${item.number}:</strong> ${item.text}</p>
                            <p class="correct-answer">Correct answer: ${item.correct}</p>
                            <p><strong>Feedback:</strong> ${item.feedback || 'Incorrect'}</p>
                        </div>
                    `;
                });
            } else {
                feedbackDiv.innerHTML = '<div style="color:green; font-weight:bold; text-align:center; padding: 15px; background: #e8f5e9; border-left: 4px solid #2e7d32; border-radius: 4px;">🎉 Perfect! All answers correct! 🎉</div>';
            }
        }

        function isPartiallyCorrect(userAnswer, correctAnswer) {
            const userWords = userAnswer.toLowerCase().split(/\s+/);
            const correctWords = correctAnswer.toLowerCase().split(/\s+/);
            let commonWords = 0;

            for (const word of userWords) {
                if (correctWords.includes(word)) {
                    commonWords++;
                }
            }
            // Define a threshold for partial correctness (e.g., 50% of the words match)
            const threshold = correctWords.length * 0.5;
            return commonWords >= threshold;
        }
    </script>
</body>
</html>
